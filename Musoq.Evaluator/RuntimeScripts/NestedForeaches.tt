var {transformed_source_table} = new Table({joined_table_name}, {joined_table_columns});

<# for(int i = 0; i < Nesting; ++i) { #>
	foreach(var {name<#=i#>} in {source<#=i#>}){

	<# if(i > 0){ #>
		if(!({join_condition<#=(i-1)#>}))
			continue;
	<# } #>
<# } #>
		{where_statements}
	<# if(HasGroupBy) { #>
		{group_by_statements}
	<# } else { #>
		{join_select_statements}
	<# } #>
	}
<# for(int i = 1; i < Nesting - 1; ++i) { #>
	}
<# } #>
 }